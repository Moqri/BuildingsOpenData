<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>

<body>
<table id="t1" border="1"></table>
</body>


<script>


$.ajaxSetup({ cache: true });



$.getJSON("http://buildingsopendata.org/api/action/datastore_search?resource_id=78c1ef71-9bb6-4e8a-afde-c74514d47f64&q=smith&callback=?",
function(json){
  console.log(json);
  var data = JSON.stringify(json)
  var obj = $.parseJSON(data);
  //alert(obj['result']['records'][1]['PHY_ADDR1']);
    var tbl_body = "";
    var odd_even = false;
    //header - not the best way to write it
    var tbl_head ="";
    tbl_head += "<th> Parcel ID </th>";
    tbl_head += "<th> Parcel Address </th>";
    tbl_head += "<th> Parcel Owner </th>";
    tbl_body += "<tr>"+tbl_head+"</tr>";

    $.each(obj['result']['records'], function(index, value) {
        var tbl_row = "";
        var parcel_id=value['PARCEL_ID'];
        var physical_address=value['PHY_ADDR1'];
        var physical_address2=value['PHY_ADDR2'];

        var owner_name=value['OWN_NAME'];    
        var owner_address=value['OWN_ADDR1'];    
        var owner_city=value['OWN_CITY'];
        var owner_state=value['OWN_STATE'];    
        var owner_zip=value['OWN_ZIPCD']||'';    



        tbl_row += "<td>"+parcel_id+"</td>";
        tbl_row +="<td>"+physical_address+' '+physical_address2+"</td>";

        tbl_row +="<td>"+owner_name+' ('+owner_address+', '+owner_city+', '+ owner_state+' '+owner_zip+")</td>";

        tbl_body += "<tr class=\""+( odd_even ? "odd" : "even")+"\">"+tbl_row+"</tr>";
    })
    $("#t1").html(tbl_body);
});
</script>

</html>
